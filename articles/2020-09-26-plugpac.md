---
title: "Vim ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ plugpac.vim (minpac ãƒ©ãƒƒãƒ‘ãƒ¼)"
emoji: "ğŸ˜º"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["vim", "neovim", "plugin"]
published: true
---

## Vim (Neovim) ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ plugpac.vim ã®ç´¹ä»‹

[k-takata/minpac](https://github.com/k-takata/minpac) ã®ãƒ©ãƒƒãƒ‘ãƒ¼ã¨ã—ã¦ã€[bennyyip/plugpac.vim](https://github.com/bennyyip/plugpac.vim) ã£ã¦ã®ãŒã‚ã‚Šã¾ã™ã€‚

[k-takata/minpac](https://github.com/k-takata/minpac) ã‚’ä½¿ç”¨ã™ã‚‹ã®ã§ã™ãŒã€ã‚ã‚‹ã‚³ãƒãƒ³ãƒ‰ãŒå®Ÿè¡Œã•ã‚ŒãŸã¨ãã€ç‰¹å®šã® filetype ã®ã¨ãã€ç­‰ã§èª­ã¿è¾¼ã¿ (packadd) ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ©ãƒƒãƒ‘ãƒ¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã€ [junegunn/vim-plug](https://github.com/junegunn/vim-plug) ã«ä¼¼ãŸæ„Ÿã˜ã§åˆ©ç”¨ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

[vim-plug](https://github.com/junegunn/vim-plug) ã‚’åˆ©ç”¨ã—ã¦ã„ã‚‹äººã«ã¨ã£ã¦ã¯ã‚ã¡ã‚ƒãã¡ã‚ƒä¹—ã‚Šæ›ãˆã‚„ã™ã„ã¨æ€ã„ã¾ã™ã€‚
ã‹ã¤ã€ [minpac](https://github.com/k-takata/minpac) ã¯ vim æ¨™æº–ã® package æ©Ÿèƒ½ã‚’ä½¿ã£ã¦ã„ã‚‹ã®ã§ã‚ˆã‚Šã‚·ãƒ³ãƒ—ãƒ«ã«å‹•ä½œã™ã‚‹ãƒ»ãƒ»ãƒ»ã¨æ€ã„ã¾ã™ã€‚

ä½¿ã„æ–¹ã¯ç°¡å˜ã§ã€ [plugpac.vim](https://github.com/bennyyip/plugpac.vim) ã«ã‚ã‚‹ README ã®é€šã‚Šã«å®Ÿæ–½ã™ã‚‹ã ã‘ã§ã™ã€‚
[vim-plug](https://github.com/junegunn/vim-plug) ã«ä¼¼ãŸæ„Ÿã˜ã§ [minpac](https://github.com/k-takata/minpac) ã‚’ä½¿ç”¨ã§ãã‚‹ã¯ãšã§ã™ï¼

ãŸã ã€ [Shougo/dein.vim](https://github.com/Shougo/dein.vim) ã«ã‚ã‚‹ã‚ˆã†ãªã€ `if` ã ã£ãŸã‚Šã€ `on_event` ã ã£ãŸã‚Šã‚‚ä½¿ç”¨ã—ãŸã„ãƒ»ãƒ»ãƒ»ï¼
ã¨ã„ã†ã“ã¨ã§ã€è¿½åŠ ã—ã¦ã¿ã¾ã—ãŸã€‚

[yukimemi/plugpac.vim](https://github.com/yukimemi/plugpac.vim)

(ãƒ—ãƒ«ãƒªã‚¯é€ã£ã¦ã¾ã™ãŒã€å–ã‚Šè¾¼ã¾ã‚Œã¦ã¾ã›ã‚“ãƒ»ãƒ»ãƒ»)

`.vimrc` ã‚„ `init.vim` ã®è¨­å®šã¯ã“ã‚“ãªæ„Ÿã˜ã«æ›¸ã‘ã°ã„ã‘ã‚‹ã¯ãšã€‚

```vim
set encoding=utf-8
scriptencoding utf-8

" Set path.
let $CACHE = expand('~/.cache')
if has('nvim')
  let $VIM_PATH = expand('~/.config/nvim')
  let $CACHE_HOME = expand('$CACHE/nvim')
else
  let $VIM_PATH = expand('~/.vim')
  let $CACHE_HOME = expand('$CACHE/vim')
endif

" Use plugpac (minpac).
set packpath^=$CACHE_HOME
let s:package_home = $CACHE_HOME . '/pack/minpac'
let s:minpac_dir = s:package_home . '/opt/minpac'
let s:plugpac_dir = $CACHE_HOME . '/plugpac'
let s:minpac_download = 0
if has('vim_starting')
  if !isdirectory(expand(s:minpac_dir))
    echo "Install minpac ..."
    execute 'silent! !git clone -b devel --depth 1 https://github.com/k-takata/minpac ' . s:minpac_dir
    let s:minpac_download = 1
  endif
  if !filereadable(expand(s:plugpac_dir . '/autoload/plugpac.vim'))
    echo "Install plugpac ..."
    execute 'silent! !git clone --depth 1 https://github.com/yukimemi/plugpac.vim ' . s:plugpac_dir . '/autoload'
  endif
  execute 'set runtimepath^=' . fnamemodify(s:plugpac_dir, ':p')
  let g:plugpac_cfg_path = $VIM_PATH . '/rc'
endif

" Plugin list.
call plugpac#begin()

" æ˜ç¤ºçš„ãª opt æŒ‡å®š
" ä½•ã‚‚æŒ‡å®šã—ãªã„å ´åˆã¯ start ã«ãªã‚‹ã€‚
" é…å»¶ã‚ªãƒ—ã‚·ãƒ§ãƒ³ `on`, `event` ãªã©æŒ‡å®šæ™‚ã¯è‡ªå‹•çš„ã« `opt` ã«ãªã‚‹ã€‚
Pack 'k-takata/minpac', {'type': 'opt'}
Pack 'NLKNguyen/papercolor-theme', {'type': 'opt'}

" `if` ã‚ªãƒ—ã‚·ãƒ§ãƒ³
Pack 'LumaKernel/nvim-visual-eof.lua', {'type': 'lazyall', 'if': has('nvim')}
Pack 'lambdalisue/seethrough.vim', {'if': !has('gui')}
" `event` ã‚ªãƒ—ã‚·ãƒ§ãƒ³
Pack 'andymass/vim-matchup', {'event': 'CursorHold'}
Pack 'itchyny/vim-cursorword', {'event': ['CursorHold', 'CursorMoved']}
" timer_start ã«ã‚ˆã‚‹é…å»¶ãƒ­ãƒ¼ãƒ‰
Pack 'thinca/vim-submode', {'type': 'lazy'}
" `lazyall` ã®å ´åˆã¯å¾Œè¿°ã™ã‚‹è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã® source ã‚‚é…å»¶å®Ÿæ–½
Pack 'jeffkreeftmeijer/vim-numbertoggle', {'type': 'lazyall'}
Pack 'LeafCage/yankround.vim', {'type': 'lazyall'}

Pack 'machakann/vim-highlightedyank', {'type': 'lazyall', 'if': !has('nvim')}
Pack 'ntpeters/vim-better-whitespace', {'event': 'CursorHold'}

" mapping ã‚„ filetype, command ã«ã‚ˆã‚‹ãƒ­ãƒ¼ãƒ‰
Pack 'haya14busa/vim-edgemotion', {'on': ['<Plug>(edgemotion-j)', '<Plug>(edgemotion-k)']}
Pack 'lambdalisue/vim-findent', {'on': 'Findent'}
Pack 'glidenote/memolist.vim', {'on': ['MemoNew', 'MemoList', 'MemoGrep']}
Pack 'dhruvasagar/vim-table-mode', {'for': 'markdown'}

" ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¾Œã®ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
Pack 'iamcco/markdown-preview.nvim', {'on': 'MarkdownPreview', 'do': '!cd app & yarn install'}

call plugpac#end()

if s:minpac_download
  PackInstall
endif

filetype plugin indent on
```

é€šå¸¸ã® `vim` ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸æ©Ÿèƒ½ã§ã¯ã€ `type` ã«æŒ‡å®šã§ãã‚‹ã®ã¯ `start` ã‹ `opt` ã ã‘ãªã®ã§ã™ãŒã€è¨­å®šã¨ã—ã¦ã¯ `lazy` ã€ `lazyall` ã¨ã„ã†ã®ã‚’è¨­ã‘ã¦ã„ã¾ã™ã€‚
ã©ã¡ã‚‰ã‚‚å†…éƒ¨çš„ã«ã¯ `opt` ã¨ã—ã¦æ‰±ã‚ã‚Œã¦ã€ `timer_start` ã«ã‚ˆã‚Šãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ `packadd` ã•ã‚Œã¾ã™ã€‚

`timer_start` ã«ã‚ˆã‚‹é…å»¶ãƒ­ãƒ¼ãƒ‰ã§ã¯å…¨éƒ¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒ `packadd` ã•ã‚ŒãŸã‚‰ `lazy load done !` ã¨è¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã¾ã™ã€‚
å¾Œã‹ã‚‰èª­ã¿è¾¼ã‚“ã§ã‚‚å•é¡Œãªã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã˜ã‚ƒã‚“ã˜ã‚ƒã‚“ `type` ã‚’ `lazy` ã‚„ `lazyall` ã«æŒ‡å®šã™ã‚‹ã“ã¨ã§ã€ `vim` ã®èµ·å‹•è‡ªä½“ã¯ã‹ãªã‚Šæ—©ãã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã¯ãšï¼ã§ã™ã€‚

å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ `g:plugpac_cfg_path` ã§ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã—ã¦ã„ã‚Œã°é…ä¸‹ã«ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è‡ªå‹•çš„ã«èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚
(ãƒ•ã‚¡ã‚¤ãƒ«åã¯ãƒªãƒã‚¸ãƒˆãƒª URL ã®æœ€å¾Œã®éƒ¨åˆ†ã€ã‚‚ã—ãã¯ URL ã®æœ€å¾Œã®éƒ¨åˆ† + `.vim`)

`Pack` ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãŸã‚‚ã®ã ã‘ãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹ãŸã‚ã€ä¸è¦ãªè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã—ã¦ã„ã¦ã‚‚å•é¡Œã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ã—ãŸã‹ã£ãŸã‚‰ã€ `Pack` ã‚³ãƒãƒ³ãƒ‰ã®è¡Œã ã‘ã‚³ãƒ¡ãƒ³ãƒˆã‚¢ã‚¦ãƒˆã™ã‚Œã°å¯¾è±¡ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã¾ã‚Œãªããªã‚Šã¾ã™ã€‚

```vim
let g:plugpac_cfg_path = '~/.vim/rc'
```

ã®ã‚ˆã†ãªè¨­å®šã‚’ã—ãŸå ´åˆã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãŠã‘ã° `Pack` ã‚³ãƒãƒ³ãƒ‰ã§æŒ‡å®šã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³åã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãŒè‡ªå‹•çš„ã« `source` ã•ã‚Œã¾ã™ã€‚
ã“ã® `source` ã•ã‚Œã‚‹ã‚¿ã‚¤ãƒŸãƒ³ã‚°ãŒã€ `lazy` ã®å ´åˆã¯å³æ™‚ ( `Pack` ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œæ™‚)ã€ `lazyall` ã®å ´åˆã¯ `timer_start` ã«ã‚ˆã‚Šé…å»¶ã§å®Ÿæ–½ã•ã‚Œã¾ã™ã€‚

```bash
~/.vim/rc
â”œâ”€â”€ autodate.vim
â”œâ”€â”€ coc.nvim
â”œâ”€â”€ csv.vim
â”œâ”€â”€ gina.vim
â”œâ”€â”€ gruvbox.vim
â”œâ”€â”€ indentLine.vim
â”œâ”€â”€ sonictemplate-vim.vim
â”œâ”€â”€ tagbar.vim
â”œâ”€â”€ textobj-lastpaste.vim
â”œâ”€â”€ undotree.vim
â”œâ”€â”€ vim-airline.vim
â”œâ”€â”€ vim-clap.vim
â”œâ”€â”€ vim-cursorword.vim
â”œâ”€â”€ vim-devicons.vim
â”œâ”€â”€ vim-dirvish.vim
â”œâ”€â”€ vim-easy-align.vim
â”œâ”€â”€ vim-textobj-indent.vim
â””â”€â”€ yankround.vim
```

åƒ•ãŒå®Ÿéš›ã«ã—ã¦ã„ã‚‹è¨­å®šã¯ä»¥ä¸‹ã«ã‚ã‚Šã¾ã™ã€‚

- [dotfiles/minpac.vim at master Â· yukimemi/dotfiles](https://github.com/yukimemi/dotfiles/blob/master/.config/nvim/minpac.vim)
- [dotfiles/minpac_plugins.vim at master Â· yukimemi/dotfiles](https://github.com/yukimemi/dotfiles/blob/master/.config/nvim/minpac_plugins.vim)

ãƒ»ãƒ»ãƒ»ã¨ã“ã“ã¾ã§ç´¹ä»‹ã—ã¦ã¾ã™ãŒã€ä»Šã¯ã¾ãŸ [dein](https://github.com/Shougo/dein.vim) ã‚’ä½¿ã£ã¦ã„ã¾ã™ãƒ»ãƒ»ãƒ»ãƒ»ã€‚
ã¡ã‚‡ã“ã¡ã‚‡ã“åˆ‡ã‚Šæ›¿ãˆã¦ä½¿ã£ã¦ã„ã‚‹ã®ã§ã€ã¾ãŸ [plugpac.vim](https://github.com/yukimemi/plugpac.vim) ä½¿ã†ã‹ã‚‚ãƒ»ãƒ»ãƒ»ã€‚

## å‚è€ƒ

---

- [dotfiles/minpac.vim at master Â· yukimemi/dotfiles](https://github.com/yukimemi/dotfiles/blob/master/.config/nvim/minpac.vim)
- [dotfiles/minpac_plugins.vim at master Â· yukimemi/dotfiles](https://github.com/yukimemi/dotfiles/blob/master/.config/nvim/minpac_plugins.vim)
- [yukimemi/plugpac.vim: Thin wrapper of minpac, provides vim-plug-like experience](https://github.com/yukimemi/plugpac.vim)
- [bennyyip/plugpac.vim: Thin wrapper of minpac, provides vim-plug-like experience](https://github.com/bennyyip/plugpac.vim)
- [k-takata/minpac: A minimal package manager for Vim 8 (and Neovim)](https://github.com/k-takata/minpac)
